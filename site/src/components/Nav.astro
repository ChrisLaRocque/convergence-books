---
const items = [
	{ href: "/#book-one", text: "Book One" },
	{ href: "/preview", text: "Preview Book One" },
	// { href: "/book-two", text: "Book Two" },
	{ href: "https://linktr.ee/Theconvergencebooks", text: "Buy" },
	{ href: "/about-the-authors", text: "About" },
	{ href: "/contact", text: "Contact" },
];
---

<nav
	class="z-10 flex w-full items-center justify-between backdrop-blur lg:fixed"
	id="nav"
>
	<a href="/" class="p-4"
		><strong
			class="font-heading text-lg uppercase lg:text-xl"
			id="navWordmark">The Convergence Books</strong
		>
	</a>

	<!-- Desktop nav list -->
	<ol class="hidden justify-between lg:flex">
		{
			items.map((item) => (
				<li class="p-2 ">
					<a href={item.href} class="nav-link">
						{item.text}
					</a>
				</li>
			))
		}
	</ol>
	<!-- Mobile nav button -->
	<button
		id="hamburger"
		class="hamburger flex w-12 flex-col items-center justify-center p-2 lg:hidden"
		aria-label="Navigation menu toggle"
	>
		<div class="m-2 h-[2px] w-full bg-white"></div>
		<div class="mb-2 h-[2px] w-full bg-white"></div>
		<div class="mb-2 h-[2px] w-full bg-white"></div>
	</button>
</nav>
<!-- Mobile nav list -->
<ol
	class="absolute hidden w-full bg-black bg-opacity-25 py-2 backdrop-blur"
	id="navlist"
>
	{
		items.map((item) => (
			<li class="p-2 text-right">
				<a href={item.href} class="nav-link">
					{item.text}
				</a>
			</li>
		))
	}
</ol>
<style>
	#navWordmark {
		transition: all 1.5s ease-in-out;
	}
</style>
<script>
	if (document.body.clientWidth < 1024) {
		let open = false;
		const hamburger = document.getElementById("hamburger");
		const list = document.getElementById("navlist");
		function handleHamburger() {
			open = !open;
			if (list) {
				console.log("list");
				open
					? (list.style.display = "block")
					: (list.style.display = "none");
			}
		}
		if (hamburger) {
			hamburger.addEventListener("click", handleHamburger);
		}
	}
</script>
